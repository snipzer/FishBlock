<?php

namespace MainBundle\Repository;

/**
 * EpisodeRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class EpisodeRepository extends \Doctrine\ORM\EntityRepository
{
    public function getEpisodes()
    {
        return $this->findAll();
    }

    public function getEpisodesFromSerie($serieId)
    {
        $serieRepository = $this->getEntityManager()->getRepository("MainBundle:Serie");
        $serie = $serieRepository->getSerieWithId($serieId);

        return $serie->getEpisodes();
    }

    // Renvois le dernier Ã©pisode d'une sÃ©rie choisie avec l'uuid
    public function getLastEpisodeFromSerie($serieId)
    {
        $serieRepository = $this->getEntityManager()->getRepository("MainBundle:Serie");
        $serie = $serieRepository->getSerieWithId($serieId);

        return $this->findBy(["serie" => $serie]);
    }
}
